{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["// Завдання 2 - Форма зворотного зв'язку\n\n// Виконуй це завдання у файлах 2-form.html і 2-form.js.\n\n// Додай у HTML розмітку форми. У JS напиши скрипт, який буде зберігати значення полів у локальне сховище, коли користувач щось друкує.\n\n// <form class=\"feedback-form\" autocomplete=\"off\">\n//   <label>\n//     Email\n//     <input type=\"email\" name=\"email\" autofocus />\n//   </label>\n//   <label>\n//     Message\n//     <textarea name=\"message\" rows=\"8\"></textarea>\n//   </label>\n//   <button type=\"submit\">Submit</button>\n// </form>\n\n// Виконуй це завдання у файлах 2-form.html і 2-form.js. Розбий його на декілька підзавдань:\n\n// Оголоси поза будь-якими функціями об’єкт formData з полями email та message, які спочатку мають порожні рядки як значення: { email: \"\", message: \"\" }.\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\n// Використовуй метод делегування для відстеження змін у формі через подію input. Зберігай актуальні дані з полів email та message у formData та записуй цей об’єкт у локальне сховище. Використовуй ключ \"feedback-form-state\" для зберігання даних у сховищі.\n\nconst LS_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\nconsole.dir(form);\n\nif (localStorage.getItem(LS_KEY)) {\n  const parsedKey = JSON.parse(localStorage.getItem(LS_KEY));\n\n  if (parsedKey.email) {\n    formData.email = parsedKey.email || '';\n    form.elements.email.value = formData.email;\n  }\n\n  if (parsedKey.message) {\n    formData.message = parsedKey.message || '';\n    form.elements.message.value = formData.message;\n  }\n}\n\nform.addEventListener('input', handleInput);\nform.addEventListener('submit', handleSubmit);\n\nfunction handleInput(event) {\n  if (event.target.name === 'email') {\n    formData.email = event.target.form.elements.email.value.trim();\n  } else if (event.target.name === 'message') {\n    formData.message = event.target.form.elements.message.value.trim();\n  }\n\n  localStorage.setItem(LS_KEY, JSON.stringify(formData));\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const userEmail = event.target.elements.email.value.trim();\n  const userMessage = event.target.elements.message.value.trim();\n\n  formData.email = userEmail;\n  formData.message = userMessage;\n\n  if (userEmail === '' || userMessage === '') {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n\n  localStorage.removeItem(LS_KEY);\n\n  formData.email = '';\n  formData.message = '';\n\n  form.reset();\n}\n\n// На що буде звертати увагу ментор при перевірці:\n\n// На живій сторінці відображається форма з двома елементами форми і кнопкою типу submit\n// Форма стилізована згідно з макетом\n// На формі прослуховуються події input і submit\n// При введенні даних у будь-який елемент форми вони записуються у локальне сховище під ключем \"feedback-form-state\", збережені дані не містять пробіли по краях\n// Введення даних в одне поле форми не видаляє дані в сховищі для іншого\n// При оновленні сторінки дані з локального сховища підставляються в елементи форми, у полях форми відсутні undefined\n// При сабміті форми є перевірка, щоб обидва елементи форми були заповнені\n// Під час сабміту форми, якщо обидва елементи форми заповнені, виводиться у консоль об'єкт з полями email, message та їхніми поточними значеннями, а також очищаються сховище і поля форми\n// Якщо після сабміту форми ввести в будь-який елемент форми дані, то в локальному сховищі не з’являються дані від попереднього сабміта\n"],"names":["formData","LS_KEY","form","parsedKey","handleInput","handleSubmit","event","userEmail","userMessage"],"mappings":"wFAsBA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAIMC,EAAS,sBAETC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,QAAQ,IAAIA,CAAI,EAEhB,GAAI,aAAa,QAAQD,CAAM,EAAG,CAChC,MAAME,EAAY,KAAK,MAAM,aAAa,QAAQF,CAAM,CAAC,EAErDE,EAAU,QACZH,EAAS,MAAQG,EAAU,OAAS,GACpCD,EAAK,SAAS,MAAM,MAAQF,EAAS,OAGnCG,EAAU,UACZH,EAAS,QAAUG,EAAU,SAAW,GACxCD,EAAK,SAAS,QAAQ,MAAQF,EAAS,QAE3C,CAEAE,EAAK,iBAAiB,QAASE,CAAW,EAC1CF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASD,EAAYE,EAAO,CACtBA,EAAM,OAAO,OAAS,QACxBN,EAAS,MAAQM,EAAM,OAAO,KAAK,SAAS,MAAM,MAAM,KAAM,EACrDA,EAAM,OAAO,OAAS,YAC/BN,EAAS,QAAUM,EAAM,OAAO,KAAK,SAAS,QAAQ,MAAM,KAAM,GAGpE,aAAa,QAAQL,EAAQ,KAAK,UAAUD,CAAQ,CAAC,CACvD,CAEA,SAASK,EAAaC,EAAO,CAC3BA,EAAM,eAAgB,EAEtB,MAAMC,EAAYD,EAAM,OAAO,SAAS,MAAM,MAAM,KAAM,EACpDE,EAAcF,EAAM,OAAO,SAAS,QAAQ,MAAM,KAAM,EAK9D,GAHAN,EAAS,MAAQO,EACjBP,EAAS,QAAUQ,EAEfD,IAAc,IAAMC,IAAgB,GAAI,CAC1C,MAAM,wBAAwB,EAC9B,MACJ,CAEE,QAAQ,IAAIR,CAAQ,EAEpB,aAAa,WAAWC,CAAM,EAE9BD,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEnBE,EAAK,MAAO,CACd"}